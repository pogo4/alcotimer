<!DOCTYPE HTML>
<html style="height: 100%; font-size: 5vmax;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="index.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <link rel="icon" href="beer.png" type="image/png">
    <title>АлкоТаймер</title>
    <meta name="description" content="Очень удобная вещь, чтобы не забыть, сколько осталось до путешествия в Приморско-Ахтарск!)">
  </head>
  <body>
    <div class="title"><a href="#" onclick="playBuhat()">Работать осталось</a></div>
    <p id="countdown"></p>
    <audio id="buhat" src="1.mp3" type="audio/mpeg" autoplay="true"></audio>
    <script>
        function playBuhat(){
          var audio = document.getElementById('buhat');
          audio.play();
        }
    </script>
    <script>
    var countDownDate = new Date("Jul 1, 2022 17:00:00").getTime();
    const countdown = document.getElementById("countdown");
      
    var x = setInterval(function() {

      var now = new Date().getTime();
      var distance = countDownDate - now;
      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((distance % (1000 * 60)) / 1000);
      
      let days_word = 'дней';
      
      let remainder = days % 10;
      
      if(days < 10 || days > 20){
        if(remainder == 1) days_word = 'день';
        if{remainder > 1 && remainder < 5) days_word = 'дня';
      }
      
      let innerHtml = '';
        
      if(days > 0) innerHtml = days + " <span>" + days_word + "</span><br> ";
        
      innerHtml += String(hours).padStart(2,'0')  + ":" + String(minutes).padStart(2,'0') + ":" + String(seconds).padStart(2,'0') + String(distance).padStart(2,'0');
        
      countdown.innerHTML = innerHtml;

      if (distance < 0) {
        clearInterval(x);
        playBuhat();
      }
    }, 10);
    </script>
  </body>
</html>
